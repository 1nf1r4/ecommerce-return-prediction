# Environment Variables Template for E-commerce Return Prediction

# ===========================================
# SUPABASE CONFIGURATION
# ===========================================

# Required: Your Supabase project URL
# Get this from: https://app.supabase.com/project/_/settings/api
SUPABASE_URL=https://your-project-ref.supabase.co

# Required: Your Supabase anon/public key (for frontend)
# Get this from: https://app.supabase.com/project/_/settings/api
SUPABASE_ANON_KEY=your-anon-key-here

# Required: Your Supabase service role key (for backend - keep secure!)
# Get this from: https://app.supabase.com/project/_/settings/api
# WARNING: Never expose this key in frontend code!
SUPABASE_SERVICE_KEY=your-service-role-key-here

# Optional: Supabase database password (for direct connections)
SUPABASE_DB_PASSWORD=your-db-password

# ===========================================
# FRONTEND CONFIGURATION (VITE)
# ===========================================

# Frontend environment variables (prefix with VITE_ for Vite)
VITE_SUPABASE_URL=https://your-project-ref.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# Backend API URL for frontend to connect to
VITE_API_URL=http://localhost:8000

# ===========================================
# BACKEND API CONFIGURATION
# ===========================================

# FastAPI configuration
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=true

# CORS origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173

# ===========================================
# MACHINE LEARNING MODEL CONFIGURATION
# ===========================================

# Model paths (relative to services directory)
MODEL_PATH=models/return_model.pkl
MODEL_METRICS_PATH=models/model_metrics.json

# Model configuration
MODEL_CONFIDENCE_THRESHOLD=0.7
MODEL_HIGH_RISK_THRESHOLD=0.8
MODEL_LOW_RISK_THRESHOLD=0.3

# ===========================================
# DATA STORAGE CONFIGURATION
# ===========================================

# Local data paths
DATA_RAW_PATH=data/raw
DATA_PROCESSED_PATH=data/processed
DATA_REPORTS_PATH=data/reports

# File upload limits
MAX_FILE_SIZE_MB=50
MAX_BATCH_RECORDS=10000

# ===========================================
# OPTIONAL: EXTERNAL SERVICES
# ===========================================

# Email service (if using custom SMTP instead of Supabase)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=your-smtp-username
SMTP_PASSWORD=your-smtp-password
SMTP_FROM_EMAIL=noreply@yourapp.com

# Monitoring and analytics
SENTRY_DSN=your-sentry-dsn
ANALYTICS_API_KEY=your-analytics-key

# ===========================================
# DEVELOPMENT CONFIGURATION
# ===========================================

# Logging level
LOG_LEVEL=INFO

# Development flags
ENABLE_DEBUG_LOGGING=true
ENABLE_PREDICTION_CACHING=false
ENABLE_BATCH_PROCESSING=true

# ===========================================
# SECURITY CONFIGURATION
# ===========================================

# JWT secret (for additional API security if needed)
JWT_SECRET=your-jwt-secret-here

# API rate limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ===========================================
# DEPLOYMENT CONFIGURATION
# ===========================================

# Production URLs
PRODUCTION_FRONTEND_URL=https://your-app.vercel.app
PRODUCTION_API_URL=https://your-api.railway.app

# Database backup configuration
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# ===========================================
# INSTRUCTIONS
# ===========================================

# 1. Copy this file to .env in both frontend and services directories
# 2. Replace all placeholder values with your actual values
# 3. Create a Supabase project at https://app.supabase.com
# 4. Run the SQL migration in supabase/migrations/20241225000001_initial_schema.sql
# 5. Update your Supabase project settings:
#    - Enable Row Level Security
#    - Configure email templates (optional)
#    - Set up authentication providers as needed
# 6. Never commit .env files to version control
# 7. Add .env to your .gitignore file

# ===========================================
# QUICK START COMMANDS
# ===========================================

# Backend setup:
# cd services
# python -m venv venv
# source venv/bin/activate  # On Windows: venv\Scripts\activate
# pip install -r requirements.txt
# python main.py

# Frontend setup:
# cd frontend
# npm install
# npm run dev

# Supabase setup:
# npx supabase init
# npx supabase start
# npx supabase db reset

# ===========================================
# TROUBLESHOOTING
# ===========================================

# Common issues:
# 1. CORS errors: Check ALLOWED_ORIGINS and VITE_API_URL
# 2. Auth errors: Verify SUPABASE_URL and keys
# 3. Database errors: Check RLS policies and migrations
# 4. File upload errors: Check MAX_FILE_SIZE_MB setting
# 5. Model errors: Ensure model files exist in correct paths
